/* src/Experiment1.css - Compact layout: Header + Controls + Quantum Channel + Dark Table */

/* ===== GLOBAL RESET ===== */
* { box-sizing: border-box; }

/* ===== CORE LAYOUT ===== */
.lab-container.vertical-layout {
  max-width: 100%;
  margin: 0;
  padding: 80px 14px 40px 14px; /* keep top space for navbar */
  background: #000;
  min-height: 100vh;
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  color: #fff;
  position: relative;
  
}

/* subtle starfield */
.lab-container.vertical-layout::before {
  content: '';
  position: fixed; inset: 0;
  background:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,0.08), transparent),
    radial-gradient(2px 2px at 60% 70%, rgba(255,255,255,0.06), transparent);
  opacity: 0.12; pointer-events: none; z-index: 0;
  background-size: 200% 200%; animation: stars 200s linear infinite;
}
@keyframes stars { from { background-position: 0% 0% } to { background-position: 100% 100% } }

.lab-container.vertical-layout > * { position: relative; z-index: 1; }

/* ===== HEADER (compact) ===== */
.lab-header.hero {
  display: flex; align-items: center; justify-content: space-between;
  padding: 18px 22px; margin-bottom: 18px;
  background: rgba(255,255,255,0.02); border-radius: 12px; border: 1px solid rgba(255,255,255,0.06);
  backdrop-filter: blur(6px);
}
.lab-header.hero h1 {
  margin: 0; font-size: 1.4rem; font-weight: 800; letter-spacing: -0.01em;
  text-shadow: 0 0 12px rgba(255,255,255,0.06);
}
.lab-header.hero .lab-subtitle { display:none; } /* removed extra subtitle for compact view */

/* ===== LAYOUT: CONTROLS + CHANNEL ===== */
.channel-and-controls-wrapper {
  display: grid; grid-template-columns: 320px 1fr; gap: 20px; align-items: start;
}
@media (max-width: 1100px) { .channel-and-controls-wrapper { grid-template-columns: 1fr; } }

/* ===== CONTROLS (left) ===== */
.controls-left-column {
  background: rgba(255,255,255,0.01); border-radius: 12px; padding: 18px; border: 1px solid rgba(255,255,255,0.05);
  position: sticky; top: 100px; height: calc(100vh - 140px); overflow:auto;
}
.controls-left-column h3 { margin: 0 0 12px; font-size: 1rem; letter-spacing: 0.06em; }
.control-row {
  background: rgba(0,0,0,0.35); padding:12px; margin-bottom:12px; border-radius:10px; border:1px solid rgba(255,255,255,0.03);
}
.control-row label { display:block; margin-bottom:8px; font-weight:700; font-size:0.92rem; color:#fff; }
.slider-row { display:flex; gap:10px; align-items:center; }
.exp-slider { flex:1; height:6px; border-radius:4px; background:rgba(255,255,255,0.08); }
.exp-slider::-webkit-slider-thumb { -webkit-appearance:none; width:14px;height:14px;border-radius:50%;background:#fff;box-shadow:0 0 8px rgba(255,255,255,0.12); }
.slider-value { min-width:56px; text-align:right; background:rgba(255,255,255,0.04); padding:6px 8px; border-radius:8px; font-weight:700; }

/* action buttons inside controls */
.control-actions { display:flex; gap:10px; flex-direction:column; margin-top:8px; }
.exp-btn { padding:10px 12px; border-radius:10px; font-weight:700; cursor:pointer; border:1px solid rgba(255,255,255,0.06); background:rgba(255,255,255,0.02); color:#fff; }
.exp-btn-primary { background:#fff; color:#000; box-shadow:0 10px 30px rgba(255,255,255,0.03); border-color:#fff; }
.exp-btn-ghost { background:transparent; color:rgba(255,255,255,0.9); }

/* status */
#transmission-status { margin-top:12px; padding:10px; border-radius:8px; background:rgba(0,255,100,0.05); border:1px solid rgba(0,255,100,0.08); font-family: "SF Mono", monospace; font-weight:600; }

/* ===== CHANNEL (right) ===== */
.channel-right-area { display:flex; flex-direction:column; gap:12px; }
.channel-hero {
  background: transparent;     /* remove background so it blends */
  border-radius: 0;            /* no corners */
  padding: 0;                  /* remove internal padding */
  min-height: auto;            /* shrink to fit content */
  display:flex;
  flex-direction:column;
  gap: 0;                      /* remove vertical spacing */
  border: none !important;     /* <-- removes border fully */
  margin-top: 0;               /* no extra margin */
}

.channel-title-pill {
  align-self:center; background:#000; border-radius:999px; padding:10px 26px; font-weight:900; letter-spacing:0.12em; border:1px solid rgba(255,255,255,0.06);
  box-shadow: 0 8px 30px rgba(0,0,0,0.6);
}
.channel-stage { flex:1 1 auto; display:flex; align-items:center; justify-content:center; min-height:300px; }

/* channel actions (centered) */
.channel-actions { display:flex; gap:18px; justify-content:center; margin-top:6px; }
.channel-actions .exp-btn { padding:12px 22px; border-radius:26px; }

/* ===== TABLE (dark) ===== */
.table-panel { padding:12px 14px; margin-top:6px; }
.table-responsive {
  background: #0b0b0b; border-radius:12px; border:1px solid rgba(255,255,255,0.04); padding:8px; overflow-x:auto;
}
/* when more rows exist switch to vertical scroll inside table body */
.table-responsive.scrollable { max-height: 320px; overflow-y:auto; overflow-x:hidden; -webkit-overflow-scrolling: touch; padding-right:6px; }

/* table visuals: fully dark */
.data-table { width:100%; border-collapse: collapse; color:#fff; font-size:0.92rem; }
.data-table thead { position: sticky; top:0; background: #111; z-index:6; }
.data-table th { padding:12px 10px; text-align:left; font-weight:700; color:rgba(255,255,255,0.9); font-size:0.85rem; text-transform:uppercase; border-bottom:1px solid rgba(255,255,255,0.04); }
.data-table td { padding:12px 10px; font-family: "SF Mono", monospace; color: rgba(255,255,255,0.95); border-bottom:1px solid rgba(255,255,255,0.03); background: transparent; }

/* rows remain dark */
.data-table tbody tr:hover { background: rgba(255,255,255,0.02); cursor:pointer; }

/* small screens */
@media (max-width: 900px) {
  .channel-and-controls-wrapper { grid-template-columns: 1fr; }
  .controls-left-column { position: relative; top:0; height:auto; width:100%; min-width:auto; }
  .channel-hero { min-height:420px; padding:16px; }
  .table-responsive.scrollable { max-height: 260px; }
}

/* Utility */
.full-width { width:100%; }
/* src/Experiment1.css - Compact layout with polarizer labels moved above icons */

/* ===== GLOBAL RESET ===== */
* { box-sizing: border-box; }

/* ===== CORE LAYOUT ===== */
.lab-container.vertical-layout {
  max-width: 100%;
  margin: 0;
  /* increased top padding so header / fixed navbar doesn't overlap content */
  padding: 120px 14px 40px 14px; /* top increased from 80 -> 120 */
  background: #000;
  min-height: 100vh;
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  color: #fff;
  position: relative;
  
}

/* subtle starfield */
.lab-container.vertical-layout::before {
  content: '';
  position: fixed; inset: 0;
  background:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,0.08), transparent),
    radial-gradient(2px 2px at 60% 70%, rgba(255,255,255,0.06), transparent);
  opacity: 0.12; pointer-events: none; z-index: 0;
  background-size: 200% 200%; animation: stars 200s linear infinite;
}
@keyframes stars { from { background-position: 0% 0% } to { background-position: 100% 100% } }

.lab-container.vertical-layout > * { position: relative; z-index: 1; }

/* ===== HEADER (compact) ===== */
.lab-header.hero {
  display: flex; align-items: center; justify-content: space-between;
  padding: 18px 22px; margin-bottom: 18px;
  background: rgba(255,255,255,0.02); border-radius: 12px; border: 1px solid rgba(255,255,255,0.06);
  backdrop-filter: blur(6px);
}
.lab-header.hero h1 {
  margin: 0; font-size: 1.4rem; font-weight: 800; letter-spacing: -0.01em;
  text-shadow: 0 0 12px rgba(255,255,255,0.06);
}
.lab-header.hero .lab-subtitle { display:none; }

/* ===== LAYOUT: CONTROLS + CHANNEL ===== */
.channel-and-controls-wrapper {
  display: grid; grid-template-columns: 320px 1fr; gap: 20px; align-items: start;
}
@media (max-width: 1100px) { .channel-and-controls-wrapper { grid-template-columns: 1fr; } }

/* ===== CONTROLS (left) ===== */
.controls-left-column {
  background: rgba(255,255,255,0.01); border-radius: 12px; padding: 18px; border: 1px solid rgba(255,255,255,0.05);
  /* bumped sticky top to clear larger top padding */
  position: sticky; top: 140px; height: calc(100vh - 180px); overflow:auto;
}
.controls-left-column h3 { margin: 0 0 12px; font-size: 1rem; letter-spacing: 0.06em; }
.control-row {
  background: rgba(0,0,0,0.35); padding:12px; margin-bottom:12px; border-radius:10px; border:1px solid rgba(255,255,255,0.03);
}
.control-row label { display:block; margin-bottom:8px; font-weight:700; font-size:0.92rem; color:#fff; }
.slider-row { display:flex; gap:10px; align-items:center; }
.exp-slider { flex:1; height:6px; border-radius:4px; background:rgba(255,255,255,0.08); }
.exp-slider::-webkit-slider-thumb { -webkit-appearance:none; width:14px;height:14px;border-radius:50%;background:#fff;box-shadow:0 0 8px rgba(255,255,255,0.12); }
.slider-value { min-width:56px; text-align:right; background:rgba(255,255,255,0.04); padding:6px 8px; border-radius:8px; font-weight:700; }

/* action buttons inside controls */
.control-actions { display:flex; gap:10px; flex-direction:column; margin-top:8px; }
.exp-btn { padding:10px 12px; border-radius:10px; font-weight:700; cursor:pointer; border:1px solid rgba(255,255,255,0.06); background:rgba(255,255,255,0.02); color:#fff; }
.exp-btn-primary { background:#fff; color:#000; box-shadow:0 10px 30px rgba(255,255,255,0.03); border-color:#fff; }
.exp-btn-ghost { background:transparent; color:rgba(255,255,255,0.9); }

/* status */
#transmission-status { margin-top:12px; padding:10px; border-radius:8px; background:rgba(0,255,100,0.05); border:1px solid rgba(0,255,100,0.08); font-family: "SF Mono", monospace; font-weight:600; }

/* ===== CHANNEL (right) ===== */
.channel-right-area { display:flex; flex-direction:column; gap:12px; }
/* added top margin so channel doesn't sit under header */
.channel-hero {
  background: rgba(255,255,255,0.01); border-radius: 16px; padding: 22px;
  min-height: 520px; display:flex; flex-direction:column; gap:14px; border:1px solid rgba(255,255,255,0.05);
  align-items:stretch;
  margin-top: 8px; /* small nudge to clear header overlap */
}
.channel-title-pill {
  align-self:center; background:#000; border-radius:999px; padding:10px 26px; font-weight:900; letter-spacing:0.12em; border:1px solid rgba(255,255,255,0.06);
  box-shadow: 0 8px 30px rgba(0,0,0,0.6);
}
.channel-stage { flex:1 1 auto; display:flex; align-items:center; justify-content:center; min-height:300px; }

/* control buttons (centered) */
.channel-actions { display:flex; gap:18px; justify-content:center; margin-top:6px; }
.channel-actions .exp-btn { padding:12px 22px; border-radius:26px; }

/* ===== POLARIZER LABELS: force above the icons =====
   These selectors are intentionally generic so they should work with your existing QuantumChannel markup:
   - If labels are inside elements with classes like .polarizer, .polarizer-label, .alice-polarizer-label, .bob-polarizer-label
     these rules will place the text above the polarizer icon and center it.
*/
.channel-stage .polarizer,
.channel-stage .polarizer-wrapper,
.channel-stage .polarizer-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

/* default polarizer label (moved above the icon) */
.channel-stage .polarizer-label,
.channel-stage .polarizer .label,
.channel-stage .polarizer-wrapper .label,
.channel-stage .polarizer-box .label {
  order: -1; /* move label above the icon */
  margin-bottom: 6px;
  font-weight: 800;
  font-size: 0.95rem;
  color: rgba(255,255,255,0.95);
  text-align: center;
  letter-spacing: 0.02em;
  white-space: nowrap;
}

/* specific name variants often used in components */
.channel-stage .alice-polarizer-label,
.channel-stage .bob-polarizer-label,
.channel-stage .alice-label,
.channel-stage .bob-label {
  order: -1;
  margin-bottom: 6px;
  font-weight: 800;
  font-size: 0.95rem;
  color: rgba(255,255,255,0.95);
  text-align: center;
}

/* If labels were previously absolutely positioned, try to reset that so they flow above */
.channel-stage .polarizer-label[style],
.channel-stage .polarizer .label[style] {
  position: static !important;
  transform: none !important;
}

/* ===== TABLE (dark) ===== */
.table-panel { padding:12px 14px; margin-top:6px; }
.table-responsive {
  background: #0b0b0b; border-radius:12px; border:1px solid rgba(255,255,255,0.04); padding:8px; overflow-x:auto;
}
.table-responsive.scrollable { max-height: 320px; overflow-y:auto; overflow-x:hidden; -webkit-overflow-scrolling: touch; padding-right:6px; }
.data-table { width:100%; border-collapse: collapse; color:#fff; font-size:0.92rem; }
.data-table thead { position: sticky; top:0; background: #111; z-index:6; }
.data-table th { padding:12px 10px; text-align:left; font-weight:700; color:rgba(255,255,255,0.9); font-size:0.85rem; text-transform:uppercase; border-bottom:1px solid rgba(255,255,255,0.04); }
.data-table td { padding:12px 10px; font-family: "SF Mono", monospace; color: rgba(255,255,255,0.95); border-bottom:1px solid rgba(255,255,255,0.03); background: transparent; }
.data-table tbody tr:hover { background: rgba(255,255,255,0.02); cursor:pointer; }

/* small screens */
@media (max-width: 900px) {
  .channel-and-controls-wrapper { grid-template-columns: 1fr; }
  .controls-left-column { position: relative; top:0; height:auto; width:100%; min-width:auto; }
  .channel-hero { min-height:420px; padding:16px; }
  .table-responsive.scrollable { max-height: 260px; }
}

/* Utility */
.full-width { width:100%; }
/* ===== Photon: remove glow & circular luminous effect ===== */
/* Paste at end of src/QuantumChannel.css */
.photon,
.photon.replay {
  /* remove any outer glow or inner glow */
  box-shadow: none !important;
  filter: none !important;

  /* keep the round shape if you want the dot, but remove luminous background */
  background: transparent !important;
  border: 1px solid rgba(255,255,255,0.06) !important; /* optional thin outline so photon is still visible */
  color: #ffffff !important;

  /* remove any heavy blur/scale that looks like a glow */
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
  outline: none !important;
}

/* If your animation code inserts inline styles for glow, force removal */
.photon[style*="box-shadow"],
.photon.replay[style*="box-shadow"] {
  box-shadow: none !important;
}

/* ===== Angle label: dark background behind degree text ===== */
.photon-angle {
  background: rgba(0,0,0,0.85);  /* solid black-ish background */
  color: #ffffff !important;     /* white degree text */
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  line-height: 1;
  display: inline-block;
  box-shadow: none !important;   /* ensure no glow behind the label */
  border: 1px solid rgba(255,255,255,0.04);
  z-index: 40;
}

/* If angle is appended elsewhere or uses inline white bg, override */
.photon-angle[style],
.photon[style] .photon-angle[style] {
  background: rgba(0,0,0,0.85) !important;
  color: #fff !important;
}
/* MOVE CONTROLS FAR RIGHT – nearly touching the channel */
.channel-and-controls-wrapper {
  gap: 0px !important;     /* remove natural spacing */
}

/* Shift the controls block WAY to the right */
.controls-left-column {
  margin-right: -180px !important;  
  margin-left: 150px !important; /* ← strong push right */
}
/* Center the 'Experiment Controls' heading */
.controls-left-column h3 {
  text-align: center !important;
  width: 100%;
  display: block;
}
/* === Thin white border ONLY for the controls panel === */
.controls-left-column {
  border: 1px solid rgba(255,255,255,0.55) !important;
  border-radius: 12px; /* keep your existing rounded corners */
}
.channel-right-area {
  margin-left: 30px; /* adjust as needed */
}
.channel-title-pill {
  margin-left: 100px !important;  /* adjust the number until it looks perfect */
}
/* Make all status bars pure black */
#transmission-status,
#quantum-channel-status,
#transmission-status * {
  background: #000 !important;
  border: 1px solid rgba(255,255,255,0.15) !important;
  color: #fff !important;
}
/* White background buttons */
.exp-btn-primary,
.channel-actions .exp-btn {
  background: #ffffff !important;
  color: #000 !important;
  border: 1px solid #ffffff !important;
}

/* Specifically force Reset to Ideal, Next Photon, All Photons to white */
.exp-btn-ghost {
  background: #ffffff !important;
  color: #000 !important;
  border: 1px solid #ffffff !important;
}

/* === The actual centered pop-up === */
.slider-modal {
  background: #000;
  border: 1px solid #fff;
  padding: 22px 26px;
  border-radius: 12px;
  width: 320px;
  text-align: center;
  box-shadow: 0 0 25px rgba(255,255,255,0.15);
}

/* Freeze + dim the entire controls column when modal is active */
.controls-left-column.disabled {
  pointer-events: none;
  opacity: 0.3;
}
/* Full-screen overlay */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

/* BIGGER modal — 5x larger + transparent red background */
.slider-modal {
  width: 520px;                  /* was ~300 → now MUCH bigger */
  padding: 32px 40px;
  background: rgba(255, 80, 80, 0.15); /* transparent light red */
  border: 1px solid rgba(255, 120, 120, 0.4);
  border-radius: 18px;
  text-align: center;
  box-shadow: 0 0 40px rgba(255, 0, 0, 0.25);
}

/* Dim and freeze controls */
.controls-left-column.disabled {
  opacity: 0.25;
  pointer-events: none;
}
.channel-hero {
  min-height: 320px !important;   /* reduced */
  padding: 10px 16px !important;  /* tighter */
}
/* ===== Graphs layout - spread and bigger (consolidated) ===== */
.graphs-row-wrapper {
  margin-top: 0px;
  padding: 8px 14px 22px 14px; /* pulls graphs closer to the channel above; kept as requested */
  max-width: 1700px;
  margin-left: auto;
  margin-right: auto;
}

/* row: spread evenly across available width */
.graphs-row {
  display: flex;
  gap: 100px;                     /* large spacing between cards */
  align-items: stretch;           /* make cards same height so visuals align */
  justify-content: space-around;  /* spread across the width with breathing room */
  flex-wrap: nowrap;
  overflow-x: auto;
  padding: 6px 4px;
  box-sizing: border-box;
}

/* default chart card sizing (flexible) */
.graph-card {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.6);
  padding: 16px;
  border-radius: 12px;
  flex: 1 1 0;            /* equal-width expansion across wide screens */
  min-width: 280px;       /* prevents extreme shrinking */
  max-width: none;        /* allow expansion */
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Two-bar card: intentionally larger boxes for emphasis */
.two-bar-card {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.6);
  padding: 55px;           /* tall interior padding to make cards visually large */
  border-radius: 10px;
  min-width: 450px;        /* wide boxes as requested */
  max-width: 550px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* titles / labels */
.graph-label,
.two-bar-label,
.chart-title {
  font-weight: 800;
  font-size: 1.04rem;
  color: #fff;
  text-align: center;
}

/* svg area sizing (keeps bars large but matches card sizes) */
.two-bar-svg,
.graph-svg,
.chart-svg {
  display: block;
  margin: 0 auto;
  background: transparent;
  width: 100%;
  height: 300px; /* increased height so bars look larger and less clustered */
}

/* bar visuals */
.two-bar-bg { fill: #111; stroke: #333; }
.two-bar-fill,
.chart-bar { fill: #fff; }

/* axis / caption styles (kept subtle & scientific) */
.two-bar-xlabel,
.chart-tick-label {
  font-family: Inter, sans-serif;
  font-size: 150px;
  fill: #ddd;
  text-anchor: middle;
}

/* small QBER box styling */
.graph-card .qber-box {
  background: #0b0b0b;
  border: 1px solid rgba(255,255,255,0.04);
  border-radius: 8px;
  padding: 12px;
  height: 56px;
  box-sizing: border-box;
}

/* responsive: medium screens — relax huge widths */
@media (max-width: 1100px) {
  .graphs-row {
    justify-content: flex-start;
    gap: 24px;
    padding-left: 8px;
  }
  .graph-card { min-width: 260px; flex: 0 0 auto; }
  .two-bar-card { min-width: 320px; max-width: 420px; padding: 28px; } /* shrink two-bar on medium screens */
  .two-bar-svg, .graph-svg, .chart-svg { height: 170px; }
  .graphs-row-wrapper { margin-top: 8px; max-width: 1000px; }
}

/* responsive: small screens — stack & shrink */
@media (max-width: 520px) {
  .graphs-row { gap: 12px; padding-left: 8px; }
  .two-bar-card, .graph-card { min-width: 220px; max-width: 220px; padding: 14px; }
  .two-bar-svg, .graph-svg, .chart-svg { height: 150px; }
  .graphs-row-wrapper { margin-top: 8px; max-width: 100%; padding: 8px; }
}
.chart-axis-main {
  stroke: #fff;
  stroke-width: 3;
}

.chart-axis-arrow {
  stroke: #fff;
  stroke-width: 3;
  fill: none;
}

.chart-gridline {
  stroke: rgba(255,255,255,0.25);
  stroke-width: 1;
}

.chart-axis-label {
  fill: #fff;
  font-size: 14px;
  font-weight: 700;
  text-anchor: middle;
}

.chart-x-rotated {
  fill: #ddd;
  font-size: 13px;
  transform: rotate(90deg);
  transform-box: fill-box;
  transform-origin: center;
}
/* ------- Chart: title outside + SVG fills card ------- */

/* wrapper that holds title (outside) + the card (box) */
.chart-wrapper {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  flex: 1.6 1 0;
  min-width: 360px;
}

/* title that sits above the box (outside) */
.chart-title-outside {
  color: #fff;
  font-weight: 900;
  font-size: 1.06rem;
  text-align: center;
  margin-bottom: 10px;
  letter-spacing: 0.02em;
}

/* chart-card becomes the frame (box) that holds the svg and fills available height */
.chart-card {
  background: transparent;
  border: 1px solid #fff;   /* visible white border as requested */
  padding: 12px;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  
  /* explicit height so svg can fill it; tweak if you want taller/shorter */
  height: 400px;
}

/* Make the SVG fill the whole card */
.chart-card .chart-svg,
.two-bar-card .two-bar-svg {
  width: 100%;
  height: 100%;
  display: block;
}

/* ensure graphs-row still spreads cards and they align */
.graphs-row { align-items: flex-start; }

/* Slightly reduce internal chart padding so axes sit closer to border */
.chart-gridline { stroke: rgba(255,255,255,0.08); }
.chart-axis-main { stroke-width: 2.5; }
.chart-axis-arrow { stroke-width: 2.5; }

/* Responsive tweak: reduce card height on smaller screens */
@media (max-width: 1100px) {
  .chart-card { height: 400px; }
}
@media (max-width: 520px) {
  .chart-card { height: 220px; }
}
/* bigger chart card height so svg fills more space */
.chart-card {
  height: 500px; /* was 360px — increases visual area */
}
.chart-title-outside  {
  font-size: 22px;
  font-weight: 900;
}     /* was 18px */
.chart-axis-label   {
  font-size: 20px;
  font-weight: 800;
  fill: #fff;
} /* axis titles */
.chart-tick-label   {
  font-size: 18px;           /* bigger tick numbers and x-labels */
  font-weight: 700;          /* heavier so they look thicker */
  fill: #ddd;
  letter-spacing: 0.02em;    /* a little breathing room */
  font-family: Inter, sans-serif;
}/* tick numbers */
.chart-title-outside{ font-size: 22px; } /* chart title above box */
.chart-bar-value    {
  font-size: 18px;
  font-weight: 800;
} /* numbers above bars */
.qber-value         { font-size: 24px; } /* large QBER value */
.chart-axis-main { stroke-width: 3.5; }   /* thicker axis lines */
.chart-axis-arrow { stroke-width: 3.5; }  /* thicker arrowheads */
.chart-gridline { stroke: rgba(255,255,255,0.06); stroke-width: 1; }
.graphs-row { gap:30px; justify-content: space-between; }
.chart-wrapper { min-width: 360px; } /* ensures each card expands nicely */
.chart-line { stroke-width: 3.5; }
.chart-dot  { r: 7; } /* note: SVG circle r is inline; keeping here for reference */
/* make svg fill the card fully (no interior whitespace growth) */
.chart-card { padding: 15px; }          /* reduced padding so svg can be larger visually */
.chart-card .chart-svg { width:100%; height:100%; display:block; perspective-origin: none; }

/* stronger axis visuals so axis lines are always visible */
.chart-axis-main { stroke-width: 4; }
.chart-axis-arrow { stroke-width: 4; }
.chart-gridline { stroke: rgba(255,255,255,0.06); stroke-width: 1; }
.chart-tick-label.long {
  font-size: 16px;           /* fallback for long words */
  letter-spacing: 0.01em;
}
/* ============================= */
/* THEORY / ONBOARDING FORMATTING */
/* ============================= */

.experiment-theory-box {
  background: #050505;
  border: 1px solid #222;
  border-radius: 12px;
  padding: 32px;
  margin-bottom: 40px;
}

/* Title */
.experiment-theory-box .theory-title {
  font-size: 2.5rem;
  font-weight: 800;
  margin-bottom: 16px;
  text-align: center;
}

/* Body text */
.theory-body {
  font-size: 1.25rem;
  line-height: 1.75;
  color: #ddd;
}

/* Section headings */
.theory-body h4 {
  margin-top: 30px;
  margin-bottom: 10px;
  font-size: 1.5rem;
  font-weight: 700;
  color: #ffffff;
}

/* Paragraph spacing */
.theory-body p {
  margin-bottom: 15px;
}

/* Highlight box */
.theory-highlight {
  margin-top: 20px;
  padding: 16px 18px;
  background: rgba(255, 255, 255, 0.05);
  border-left: 4px solid #ffffff;
  border-radius: 6px;
  font-size: 0.9rem;
}

/* Footer note */
.theory-footer {
  margin-top: 24px;
  font-size: 1rem;
  color: #aaa;
  text-align: center;
}

/* ============================= */
/* STEP-BY-STEP (DETAILS TAGS)   */
/* ============================= */

.bb84-step {
  background: #050505;
  border: 1px solid #222;
  border-radius: 10px;
  padding: 14px 18px;
  margin-bottom: 14px;
}

/* Summary header */
.bb84-step summary {
  font-weight: 700;
  font-size: 1rem;
  cursor: pointer;
  list-style: none;
  color: #ffffff;
}

/* Remove default marker */
.bb84-step summary::-webkit-details-marker {
  display: none;
}

/* Content inside steps */
.bb84-step p {
  margin-top: 10px;
  font-size: 0.9rem;
  color: #ccc;
}

/* Lists inside steps */
.bb84-step ul {
  margin: 10px 0 10px 20px;
}

.bb84-step li {
  margin-bottom: 6px;
  font-size: 0.9rem;
}

/* ============================= */
/* READY BOX                     */
/* ============================= */

.bb84-ready {
  margin-top: 30px;
  padding: 20px;
  background: #0a0a0a;
  border: 1px solid #333;
  border-radius: 10px;
  text-align: center;
}

.bb84-ready-title {
  font-size: 1.2rem;
  font-weight: 800;
  margin-bottom: 6px;
}

.bb84-ready-sub {
  font-size: 0.9rem;
  color: #bbb;
}
/* ============================= */
/* LIMIT THEORY WIDTH (CENTERED) */
/* ============================= */

.experiment-theory-wrapper {
  max-width: 1300px;
  margin: 0 auto 48px auto; /* center + spacing below */
  padding: 0 16px;         /* small side padding for mobile */
}
/* Center and style ONLY "Welcome to Experiment 1." */
.experiment-theory-box .theory-body > strong {
  display: block;
  text-align: center;
  font-size: 1.35rem;
  font-weight: 700;
  margin-bottom: 16px;
  color: #ffffff;
}
/* ======================================================
   BB84 STEP-BY-STEP SECTION (SAFE & ISOLATED)
   Affects ONLY the STEP 1–6 text
   ====================================================== */

section.bb84-onboarding {
  max-width: 1200px;
  margin: 40px auto 0;
  padding: 0 20px;
}

/* Each step as a vertical card */
section.bb84-onboarding .bb84-step {
  display: block;
  width: 100%;
  margin-bottom: 18px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

/* Step title */
section.bb84-onboarding .bb84-step summary {
  padding: 16px 20px;
  font-size: 1.1rem;
  font-weight: 700;
  cursor: pointer;
  list-style: none;
}

/* Remove default arrow */
section.bb84-onboarding .bb84-step summary::-webkit-details-marker {
  display: none;
}

/* Step content */
section.bb84-onboarding .bb84-step p,
section.bb84-onboarding .bb84-step ul {
  padding: 0 22px 14px 22px;
  line-height: 1.6;
}

/* Lists */
section.bb84-onboarding .bb84-step ul {
  padding-left: 42px;
}

section.bb84-onboarding .bb84-step li {
  margin-bottom: 6px;
}

/* Ready box */
section.bb84-onboarding .bb84-ready {
  margin: 32px auto 0;
  max-width: 700px;
  text-align: center;
  padding: 24px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

section.bb84-onboarding .bb84-ready-title {
  font-size: 1.3rem;
  font-weight: 800;
  margin-bottom: 6px;
}

section.bb84-onboarding .bb84-ready-sub {
  font-size: 1rem;
  color: #ccc;
}
/* =====================================================
   FORCE BB84 STEPS TO STACK VERTICALLY (FIX COLUMN BUG)
   ===================================================== */

/* This container is accidentally inheriting flex-row */
section.bb84-onboarding {
  display: block !important;
  max-width: 1200px;
  margin: 40px auto 0;
  padding: 0 20px;
}

/* Force each STEP to be full-width vertical */
section.bb84-onboarding .bb84-step {
  display: block !important;
  width: 100% !important;
  margin-bottom: 20px;
}

/* Kill any flex/grid inheritance inside steps */
section.bb84-onboarding .bb84-step > * {
  display: block;
}

/* Ready card centered & vertical */
section.bb84-onboarding .bb84-ready {
  display: block;
  max-width: 600px;
  margin: 32px auto 0;
  text-align: center;
}
/* Extra breathing room below BB84 steps */
section.bb84-onboarding {
  padding-bottom: 100px; /* adjust: 60–120px as you like */
}
/* ===== STEP 4 — Eve Explanation Styling ===== */
.bb84-step {
  max-width: 1200px;
  margin: 0 auto 32px auto;
}

/* Sub-head emphasis inside steps */
.bb84-step p strong {
  color: #ffffff;
}

/* “Does NOT mean” + “It means” blocks */
.bb84-step ul {
  margin: 12px 0 20px 20px;
  padding: 0;
}

.bb84-step ul li {
  margin-bottom: 8px;
  color: #d1d5db;
  line-height: 1.6;
}

/* Highlight warning list */
.bb84-step ul:first-of-type li {
  color: #ffffff 
}

/* Explanation text */
.bb84-step p {
  color: #d1d5db;
  line-height: 1.7;
  margin-bottom: 14px;
}

/* ===== Eve Table ===== */
.bb84-eve-table {
  max-width: 365px;
  margin: 20px auto;
  border-collapse: collapse;
  background: rgba(255,255,255,0.03);
  border-radius: 12px;
  overflow: hidden;
  font-size: 0.95rem;
}


.bb84-eve-table thead {
  background: rgba(255,255,255,0.08);
}

.bb84-eve-table th,
.bb84-eve-table td {
  padding: 12px 16px;
  text-align: center;
}


.bb84-eve-table th {
  color: #ffffff;
  font-weight: 700;
}

.bb84-eve-table td {
  color: #e5e7eb;
}

.bb84-eve-table tbody tr:not(:last-child) {
  border-bottom: 1px solid rgba(255,255,255,0.08);
}
/* ===== Instructions Modal ===== */

.controls-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  position: relative;
  z-index: 3;
}


.instructions-btn {
  font-weight: 600;
  padding: 6px 14px;
}


/* Modal container */
.instructions-modal {
  max-width: 700px;
  width: 90%;
  background: #0b0b0b;
  border-radius: 16px;
  padding: 28px;
  color: #fff;
  box-shadow: 0 30px 80px rgba(0,0,0,0.8);
}

/* Title */
.instructions-modal h2 {
  text-align: center;
  margin-bottom: 18px;
  font-size: 22px;
  font-weight: 800;
}

/* List */
.instructions-list {
  padding-left: 20px;
  line-height: 1.7;
  font-size: 15px;
  color: #ddd;
}

.instructions-list li {
  margin-bottom: 10px;
}

/* Footer */
.instructions-footer {
  margin-top: 22px;
  display: flex;
  justify-content: center;
}
/* ===============================
   Button Hover + Click Motion
   =============================== */

.exp-btn {
  position: relative;
  transition:
    transform 0.15s ease,
    box-shadow 0.15s ease,
    background-color 0.15s ease;
}

/* Hover = lift slightly */
.exp-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.4);
}

/* Click / Active = pressed */
.exp-btn:active {
  transform: translateY(-1px);
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.35);
}
/* ===== Compact Vertical Graph Explanation ===== */

.graph-explanation-compact {
  max-width: 820px;
  margin: 1px auto 8px;
  padding: 2px 12px;

  background: rgba(255, 255, 255, 0.035);
  border-radius: 6px;

  color: #e5e7eb;
  font-size: 0.9rem;
}

.graph-explanation-compact strong {
  display: block;
  margin-bottom: 6px;
  font-size: 0.95rem;
}

/* Vertical bullet points */
.graph-points {
  list-style: disc;
  padding-left: 18px;
  margin: 0;
}

.graph-points li {
  margin-bottom: 4px;
  line-height: 1.4;
}

/* Key insight */
.graph-key {
  margin-top: 6px;
  font-size: 0.88rem;
  color: #6ee7b7;
}

/* === Apply Settings button hover (Exp 3 style) === */
.controls-left-column .exp-btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(255, 255, 255, 0.15);
}

/* === Reset / Ghost button hover (Exp 3 style) === */
.controls-left-column .exp-btn-ghost:hover {
  background-color: rgba(255, 255, 255, 0.08);
}
/* ===== REPORT BUTTON STYLING ===== */
.report-btn-large {
  font-size: 18px;        /* bigger text */
  padding: 14px 40px;     /* bigger button */
  margin-bottom: 50px;   /* space underneath */
  border-radius: 10px;   /* softer look */
  letter-spacing: 0.08em;
}
/* ===== REPORT BUTTON TEXT REFINEMENT ===== */
.report-btn-large {
  font-family: "Georgia", "Times New Roman", serif; /* academic feel */
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.14em;   /* cleaner spacing */
  font-size: 17px;
}
/* === THE OVERLAP KILLER FIX === */

/* 1. Force the container to be a wide "Train Track" */
.channel-and-controls-wrapper {
  display: flex !important;
  flex-direction: row !important;
  flex-wrap: nowrap !important; /* Stops the lab from jumping under or over the sidebar */
  width: 1450px !important;     /* Creates enough room for both parts */
  align-items: flex-start !important;
}

/* 2. Lock the Sidebar size and position */
.controls-left-column {
  width: 350px !important;
  min-width: 320px !important;
  flex-shrink: 0 !important;   /* Prevents sidebar from getting squashed */
  margin: 0 !important;
}

/* 3. Push the Lab area to the right so it starts AFTER the sidebar */
.channel-right-area {
  width: 1100px !important;    /* Fixed width for the Alice/Eve/Bob area */
  min-width: 1100px !important;
  flex-shrink: 0 !important;
  margin-left: 300px !important; /* This GAP is what stops the overlapping */
}

/* 4. Ensure the Lab Section border stays wide */
.quantum-channel-section {
  width: 1050px !important;
  min-width: 1050px !important;
}
